<html>
    <head>
        <title>Login to Web WhatsApp</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
                    Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans",
                    "Helvetica Neue", sans-serif;
            }
            a {
                text-decoration: none;
            }
            .main {
                position: absolute;
                top: 45%;
                left: 50%;
                transform: translate(-50%, -50%);
                text-align: center;
            }
        </style>
    </head>
    <body>
        <div class="main">
            <h2>Scan this QR code with WhatsApp.</h2>
            <img src="data:image/png;base64,<%= qr %>" />
            <br /><br />
            <p>This QR is valid only for <b class="timer">30</b> seconds.</p>
            <br /><br />
            <small
                >By logging in you agree the
                <a href="#github_terms">Terms and Conditions</a>. This tool is
                just for testing purposes and should not be used for sending any
                kind of spam.</small
            >
        </div>
    </body>
    <script>
        let timer = 29;
        setInterval(() => {
            document.querySelector(".timer").innerHTML = timer;
            timer -= 1;
            if (timer <= 0) {
                document.querySelector("p").innerHTML =
                    "This QR is no longer valid. Please wait for the page to refresh.";
                window.location.reload();
            }
        }, 1000);
    </script>
</html>
